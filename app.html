<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Community Hub | MCGG Network</title>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="tokens.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="app.css">
</head>
<body class="page page--community">

    <div id="ambient-system" aria-hidden="true">
        <div class="noise-overlay"></div>
        <div class="blob blob--primary"></div>
        <div class="blob blob--secondary"></div>
    </div>

    <div class="app-shell">

        <aside class="sidebar" role="navigation" aria-label="Side Navigation">
            <a href="index.html" class="sidebar__logo" aria-label="Go to Home">
                <div class="sidebar__logo-icon"><i class="ph-fill ph-hexagon"></i></div>
            </a>
            <nav class="sidebar__nav">
                <ul class="sidebar__list">
                    <li class="sidebar__item">
                        <a href="builder.html" class="sidebar__link" title="Lineup Builder">
                            <i class="ph-bold ph-wrench"></i>
                            <span class="sidebar__label">Builder</span>
                        </a>
                    </li>
                    <li class="sidebar__item">
                        <a href="app.html" class="sidebar__link sidebar__link--active" title="Community Hub">
                            <i class="ph-bold ph-users-three"></i>
                            <span class="sidebar__label">Community</span>
                            <span class="sidebar__badge" aria-label="5 new notifications">5</span>
                        </a>
                    </li>
                    <li class="sidebar__item">
                        <a href="#" class="sidebar__link" title="Meta Tier List">
                            <i class="ph-bold ph-chart-line-up"></i>
                            <span class="sidebar__label">Meta</span>
                        </a>
                    </li>
                    <li class="sidebar__item">
                        <a href="#" class="sidebar__link" title="Tournament Brackets">
                            <i class="ph-bold ph-trophy"></i>
                            <span class="sidebar__label">Tourney</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="sidebar__footer">
                <button class="sidebar__action" aria-label="Settings"><i class="ph-bold ph-gear"></i></button>
                <button id="sidebar-logout-btn" hidden aria-label="Logout"><i class="ph-bold ph-sign-out"></i></button>
                <button id="sidebar-login-btn" aria-label="Login">
                    <i class="ph-bold ph-sign-in"></i>
                    <span>Login</span>
                </button>
                <div class="sidebar__user">
                    <img src="https://ui-avatars.com/api/?name=Guest&background=27272a&color=71717a" alt="User Profile" class="sidebar__avatar">
                </div>
            </div>
        </aside>

        <main class="main-content" id="main-content">

            <header class="content-header">
                <div class="content-header__title-group">
                    <h1 class="content-header__title">Community Hub</h1>
                    <p class="content-header__subtitle">Trending discussions and global meta insights</p>
                </div>
                <div class="content-header__actions">
                    <div class="search-field">
                        <i class="ph-bold ph-magnifying-glass"></i>
                        <input type="text" placeholder="Search discussions..." aria-label="Search forum">
                    </div>
                    <button class="btn btn--primary icon-left" id="open-create-post">
                        <i class="ph-bold ph-plus"></i>
                        <span>Create Post</span>
                    </button>
                </div>
            </header>

            <div class="layout-grid">

                <section class="feed" aria-label="Discussion Feed">
                    <nav class="feed__filters" aria-label="Feed category">
                        <button class="feed__filter feed__filter--active">Top Stories</button>
                        <button class="feed__filter">Recent</button>
                        <button class="feed__filter">Guides</button>
                        <button class="feed__filter">Meta Discussion</button>
                    </nav>
                    <div class="feed__container custom-scroll"></div>
                </section>

                <aside class="side-panel" aria-label="Community Statistics">
                    <section class="widget widget--live glass-panel">
                        <header class="widget__header">
                            <h3 class="widget__title">Live Tournament</h3>
                            <span class="status-indicator"></span>
                        </header>
                        <div class="widget__content">
                            <h4 class="tournament-name">Rising Star S2</h4>
                            <p class="tournament-match">Grand Finals: Team ONIC vs RRQ</p>
                            <div class="tournament-timer">
                                <div class="timer-unit"><span id="timer-h">02</span><small>h</small></div>
                                <div class="timer-unit"><span id="timer-m">45</span><small>m</small></div>
                                <div class="timer-unit"><span id="timer-s">12</span><small>s</small></div>
                            </div>
                            <button class="btn btn--white btn--block">Watch Live</button>
                        </div>
                    </section>
                    <section class="widget glass-panel">
                        <header class="widget__header">
                            <h3 class="widget__title">Global Rankings</h3>
                        </header>
                        <div class="leaderboard">
                            <div class="leaderboard__row">
                                <span class="leaderboard__rank">1</span>
                                <span class="leaderboard__name">R7 Tatsumaki</span>
                                <span class="leaderboard__pts">2450</span>
                            </div>
                            <div class="leaderboard__row">
                                <span class="leaderboard__rank">2</span>
                                <span class="leaderboard__name">Lemon</span>
                                <span class="leaderboard__pts">2410</span>
                            </div>
                            <div class="leaderboard__row">
                                <span class="leaderboard__rank">3</span>
                                <span class="leaderboard__name">Kairi</span>
                                <span class="leaderboard__pts">2380</span>
                            </div>
                        </div>
                    </section>
                </aside>
            </div>
        </main>
    </div>

    <!-- ── MODAL: Create Post ─────────────────────────────────────── -->
    <div id="create-post-modal" class="cp-overlay" role="dialog" aria-modal="true" aria-label="Buat Postingan Baru" hidden>
        <div class="cp-modal glass-panel">
            <div class="cp-modal__header">
                <h2 class="cp-modal__title"><i class="ph-bold ph-pencil-simple-line"></i> Buat Postingan</h2>
                <button class="cp-modal__close" id="cp-close" aria-label="Tutup"><i class="ph-bold ph-x"></i></button>
            </div>
            <div class="cp-steps">
                <div class="cp-step cp-step--active" data-step="1">
                    <span class="cp-step__num">1</span>
                    <span class="cp-step__label">Detail</span>
                </div>
                <div class="cp-step__line"></div>
                <div class="cp-step" data-step="2">
                    <span class="cp-step__num">2</span>
                    <span class="cp-step__label">Konten</span>
                </div>
                <div class="cp-step__line"></div>
                <div class="cp-step" data-step="3">
                    <span class="cp-step__num">3</span>
                    <span class="cp-step__label">Preview</span>
                </div>
            </div>
            <div class="cp-modal__body">
                <!-- Step 1 -->
                <div class="cp-page" id="cp-page-1">
                    <div class="cp-field">
                        <label class="cp-label">Kategori <span class="cp-required">*</span></label>
                        <div class="cp-category-grid">
                            <button type="button" class="cp-cat-btn" data-category="guide" data-tag="Guide">
                                <i class="ph-bold ph-book-open"></i>
                                <span>Guide</span>
                                <small>Tips, analisis, tutorial</small>
                            </button>
                            <button type="button" class="cp-cat-btn" data-category="meta" data-tag="Meta Discussion">
                                <i class="ph-bold ph-chart-line-up"></i>
                                <span>Meta Discussion</span>
                                <small>Diskusi komposisi & tier</small>
                            </button>
                        </div>
                        <p class="cp-field-error" id="cp-error-category" hidden>Pilih kategori terlebih dahulu.</p>
                    </div>
                    <div class="cp-field">
                        <label class="cp-label" for="cp-title">Judul <span class="cp-required">*</span></label>
                        <input type="text" id="cp-title" class="cp-input" placeholder="Judul yang jelas dan deskriptif…" maxlength="120" autocomplete="off">
                        <div class="cp-field-footer">
                            <p class="cp-field-error" id="cp-error-title" hidden>Judul minimal 10 karakter.</p>
                            <span class="cp-char-count" id="cp-title-count">0/120</span>
                        </div>
                    </div>
                    <div class="cp-field">
                        <label class="cp-label" for="cp-excerpt">Ringkasan <span class="cp-required">*</span></label>
                        <textarea id="cp-excerpt" class="cp-input cp-textarea" placeholder="1–2 kalimat yang menjelaskan isi postingan…" maxlength="220" rows="2"></textarea>
                        <div class="cp-field-footer">
                            <p class="cp-field-error" id="cp-error-excerpt" hidden>Ringkasan minimal 20 karakter.</p>
                            <span class="cp-char-count" id="cp-excerpt-count">0/220</span>
                        </div>
                    </div>
                    <div class="cp-field-row">
                        <div class="cp-field">
                            <label class="cp-label" for="cp-author">Username <span class="cp-required">*</span></label>
                            <input type="text" id="cp-author" class="cp-input" placeholder="@username_kamu" maxlength="40" autocomplete="off">
                            <p class="cp-field-error" id="cp-error-author" hidden>Username minimal 3 karakter.</p>
                        </div>
                        <div class="cp-field">
                            <label class="cp-label" for="cp-initials">Inisial</label>
                            <input type="text" id="cp-initials" class="cp-input" placeholder="AB" maxlength="3" autocomplete="off">
                        </div>
                    </div>
                </div>
                <!-- Step 2 -->
                <div class="cp-page" id="cp-page-2" hidden>
                    <div class="cp-field">
                        <label class="cp-label" for="cp-body">
                            Konten Artikel <span class="cp-required">*</span>
                            <span class="cp-label-hint">Markdown: **bold**, *italic*, ## Heading, > quote, - list</span>
                        </label>
                        <textarea id="cp-body" class="cp-input cp-textarea cp-body" placeholder="Tulis konten postingan kamu di sini…&#10;&#10;## Pembuka&#10;Jelaskan konteks…" rows="14" maxlength="8000"></textarea>
                        <div class="cp-field-footer">
                            <p class="cp-field-error" id="cp-error-body" hidden>Konten minimal 50 karakter.</p>
                            <span class="cp-char-count" id="cp-body-count">0/8000</span>
                        </div>
                    </div>
                </div>
                <!-- Step 3 -->
                <div class="cp-page" id="cp-page-3" hidden>
                    <p class="cp-preview-label">Preview — tampilan di feed:</p>
                    <div id="cp-preview-card"></div>
                    <div class="cp-publish-info glass-panel">
                        <i class="ph-bold ph-info"></i>
                        <p>Postingan akan langsung muncul di feed setelah dipublikasikan.</p>
                    </div>
                </div>
            </div>
            <div class="cp-modal__footer">
                <button class="btn cp-btn-back" id="cp-back" hidden>
                    <i class="ph-bold ph-arrow-left"></i> Kembali
                </button>
                <div class="cp-footer-right">
                    <button class="btn btn--ghost" id="cp-cancel">Batal</button>
                    <button class="btn btn--primary" id="cp-next">Lanjut <i class="ph-bold ph-arrow-right"></i></button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>